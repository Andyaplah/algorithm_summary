---
typora-copy-images-to: upload
---

32 位机器只能使用大概4GB(232 字节）的随机访问存储器

64 位机器能够使用多达256TB(248字节）的内存空间，而且很容易就能扩展至16EB(264 字节）

3.1历史版本处理器比较



3.2

linux> gcc -0g -o p pi .c p2.c

编译过程

​	

3.3

(1)程序计数器

a.整数寄存器文件包含16 个命名的位置

b.条件码寄存器保存着最近执行的算术或逻辑指令的状态信

c.一组向量寄存器可以存放一个或多个整数或浮点数值



**

程序内存包含：程序的可执行机器代码，操作系统需要的一些信息，用来管理过程调
用和返回的运行时栈，以及用户分配的内存块（比如说用malloc 库函数分配的）

**

例如，X86-64 的虚拟地址是由64 位的字来表示的。在目前的实现中，
这些地址的高16 位必须设置为0, 所以一个地址实际上能够指定的是248 或64TB 范围内
的一个字节。较为典型的程序只会访问几兆字节或几千兆字节的数据。操作系统负责'管理
虚拟地址空间，将虚拟地址翻译成实际处理器内存中的物理地址。

(2)

linux> gcc -0g -c mstrore.c

产生目标代码文件mstore.o, 它是二进制格式的

**

1368 字节
的文件mstore.o 中有一段14 字节的序列，它的十六进制表示为：
53 48 89 d3 e8 00 00 00 00 48 89 03 5b c3
这就是上面列出的汇编指令对应的目标代码。从中得到一个重要信息，即机器执行的程序只
是一个字节序列，它是对一系列指令的编码



3.2.3 关于格式的注解

以"."开头的行都是指导汇编器和链接器工作的伪指令。我们通常可以忽略这些行

***

c程序和汇编结合

在C 程序中插入汇编代码有两种方法。第一种是，我们可以编写完整的函数，放进
一个独立的汇编代码文件中，让汇编器和链接器把它和用C 语言书写的代码合并起来。
第二种方法是，我们可以使用GCC 的内联汇编（inline assembly)特性，用asm伪指令可
以在C 程序中包含简短的汇编代码。这种方法的好处是减少了与机器相关的代码量。

***

3.3数据格式

16 位体系结构扩展成32 位的，

Intel 用术语“字（word)”表示16 位数据类型。

因此，称32 位数为“双字（double words)

称64 位数为“四字（quad words)”

![](https://gitee.com/andylinchuanxin/bookimage/raw/master/img/3-1_test.png)

![](http://linchuanxin.cn/content/uploadfile/202006/44151591933179.png)

